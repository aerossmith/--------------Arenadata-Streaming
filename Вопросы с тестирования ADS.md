Док от Александра Попова

**Какая команда позволяет получить principal для пользователя из файла keytab?**
`kinit`+
неверно `ktutil`
ktab
klist

**Какое количество principals может хранится в файле keytab?**
- сколько угодно

**Выберите варианты настройки аутентификации для кластера ADCM**
- ldap + local

**Для каких сервисов при керберизации кластера ADPS активируется режим аутентификации с использованием механизма [[SPNEGO]]?**
* solr*

**acks**

**Какой из следующих компонентов NiFi используется для управления доступом на основе ролей?**
* User Group 
* *Access Policy* +
* Controller Service
* Reporting Task


**какие команды запускают kafka broker / producer / concumer**


**Вопрос про [[SSL]]**

**Какие форматы хранит KeyStore**


**Что такое авторизация, аутентификации, идентификация** 


**На каком порту запускается [[ADCM]]?**
8000

Как называется основной граф интерфейс NiFi Flow?
* nifi canvas

Какой из следующих компонентов используется для управления ресурсами NiFi
* Controller Service +
* FlowFile -
* ProcessGroup
* DataFlow

Какие механизмы настройки безопасность доступны Apache Kafka (множ ответ)
* ACLs+
* SSL/TLS+
* RBAC
* SASL+


какой из следующих подходв испоьзуется для обеспечения "Exactly-Once" в kafka
* все вышеперечисленное +
* Транзакции
* Идентификаторы сообщений
* Идемпотентность

Какая команда создает топик в Kafka?
* kafka-topics.cli

Какой из следующих компонентов NiFi используется для отправки данных процессору, но сам компонент не является частью этой группы процессов?
* processor
* input port -
* process groups
* output port +

Какой параметр настраивает время хранения сегмента журнала до его удаления?
* log.retention + 

Какая команда используется для запуска брокера Kafka
* kafka-server-start.sh +

какой из следующих параметров можно использовать для настройки лимита памяти NiFi?
* Heap Size +


Укажите верное/ые утверждение (множественнный ответ)
* аутентификация направлена на определение того, кем является пользователь, а авторизация направлена на ограничение того к каким операциям  может получить пользователь +
* авторизация предоставляет определенному лицу доступ к ресурсам и/или операциям +

Какой компонент NiFi отвечает за выполнение фоновых задач, таких как передача метрик и управление кластерами
* Reporting Task +

Какой из следующих методов используется для балансировки нагрузки в NiFi кластере
* Round Robin

Что такое linger.ms при настройке Producer Kafka отвечает за
* интервал времени, в течение которого Producer ожидает новые сообщения перед отправкой имеющихся в буфере  +
* максимальное время ожидания перед тем, как сообщения будут автоматически удалены из буфера producer
* время в течение которого producer ожидает завершения подтверждений от всех брокеров для гарантированной отправки сообщения


какой из следующих компонентов отвечает за маршрутизацию данных niFi
* processor

Необходимо гарантировать, что сообщения создаются в Kafka не более одного раза. Что можно сделать для реализации этого? (множ)
* установите acks=0
* уменьшить фактор репликации
* установите acks=ALL
* Установите acks=1
(3 -)
(1 -)
(думаю верным будет 0,1)

Брокер-лидер работающий с партицией выходит из строя, какой брокер станет новым контроллером?
* следующий брокер, успешно создавший соответствующий эфемерный Znode в Zookeeper (думаю этот верный)
* брокер с следующим наивысшим значением broker.id -
* следующий брокер в порядке присоединения к кластеру
* следующий брокер, записавший новые метаданные в ZooKeeper -

Какова роль Zookeeper в кластере kafka
* хранение метаданных для брокеров

Если клиент создаст топик, которая не существует, и на брокере установилено auto.topic.enable = true, что произойдет?
* Kafka автоматически создаст топик с настройками брокера num.partitions и default.replication.factor

Что означает фактор репликации в кластере kafka
* число разных брокеров, на которые  копируется одна партиция

Ваш кластер Kafka состоит из 3 брокеров. Имеется 4 Producers, отправляющих сообщения в топик, имеющий 12 разделов. Запросы а создание получают исключения по тайм-ауту. Что можно предпринять для уменьшения колличества этих исключений
* Увеличить количество брокеров и равномерно распределить имеющиеся разделы

Что такое NiFI Provenance Data
* метаданные о происхождении и обработке данных

При попытке чтения из топика Consumer не видит сообщения. Что из следующего может быть причиной (множ)
* Consumer вызвал ребалансировку группы потребителей, которая еще не завершилась
* Consumer не может получить к топику `___consumer_offsets`
* брокер в списке ISR вышел из строя, т.к. Producer с ack=1 не получает подтверждение брокера
* Consumer пытается получить доступ к нескольким разделам 
(1, 3 - неверно)
(1,2 - неверно)
(1, 2, 3 думаю правильный)


Для запуска служб kafka broker с поддержкой аутентификации необходимо наличие
* kerberos principals
* установленного Apache ranger -
* работающего кластера ADCM
* SSH ключей

Какой параметр отвечает за максимальное кол-во обрабатываемых flowАшдуы
* Max Concurrent Tasks

какие инструменты доступны для настройки аутентификации пользователей apache ranger admin  в ADCM
* freeIPA
* LDAP
* Active Directory
* MIT
(1,2,3,4 -)
(1,2,3 -)

для каких сервисов ADS может быть настроена авторизация в Apache Ranger
* Knox
* NiFi
* Kafka Rest Proxy
* NiFi Registry
(nifi, kafka rest proxy -)

Какое максимальное кол-во брокеров кластера Kafka необходимо для хранения 10ТБ данных с репликацие 3 если каждый брокер может хранить 4 ТБ данных
- 8

Что такое NiFi Registry
* хранилище версий потокв данных

Какой компонент в NiFi используется для передачи данных между процессорами
* flowfile

Что не является компонентом архитектуры NiFi
* Stream Manager

Для запуска служб Kafka Broker с поддержкой аутентификации необходимо наличие
* kerberos principals +

Какие форматы KeyStore используются в конфигурационных настройках ADCM для активации SSL-режима работы кластера ADS
* jks

Какие факторы должны быть учтены при определении подходящего размера кластера Kafka
* емкость диска 
* все перечисленное +
* пропускная способность сети
* производительность процессора

Какие сертификаты возможно использовать для настройки SSL в ADS
* Самоподписанные
* Выпущенные через CA на основе CSR
* Только CA Root
* корневые сертификаты Java
(1, 2, 4 -)

Какая команда используется в Kafka для добавления сообщений в топик?
 * kafka-console-producer.sh

Выберите допустимый способ настройки авторизации NiFi Server (множ ответ)
* Install ADPS Cluster, Enable ADPS SSL, Enable ADS SSL, Enable NiFi LDAP Auth, Enable ADS Ranger Plugins
* Enable ADS SSL + NiFi LDAP Auth, Kerberos, Enable ADS Ranger Plugins, install ADPS Cluster
* Enable ADS Kerberos, Install ADPS Cluster, **Enable ADPS SSL**, Enable ADS SSL + NiFi LDAP Auth, Enable ADS Ranger Plugins
* Enable ADS Kerberos, Install ADPS Cluster, Enable ADS SSL + NiFi LDAP Auth, Enable ADS Ranger Plugins
(3,4 -)

Необходимо гарантировать, что сообщения отправляются в Kafka не более одного раза. Что можно сделать для реализации этого?
-Установите acks=ALL
+Установите acks=0
+Установите acks=1
-Уменьшить фактор репликации